.distribute-dialog { padding: 1.25rem; }
.muted { color: rgba(255,255,255,0.55); margin-top: -0.25rem; margin-bottom: 0.75rem; }
.client-list { list-style: none; padding: 0; margin: 0 0 0.75rem 0; }
.client-list li { display:flex; align-items:center; justify-content:space-between; padding: 0.5rem 0.4rem; border-bottom: 1px solid rgba(255,255,255,0.04); }
.client-name { font-weight: 500; color: #e8eef6; }
.client-status { display:flex; align-items:center; gap:0.6rem; color: rgba(255,255,255,0.75); }
.client-status .accuracy { color: rgba(255,255,255,0.45); font-size:0.85rem; }
.status.ok { color: #7ee787; }
.status.deploying { color: #ffd566; animation: spin 1s linear infinite; }
.status.waiting { color: #9aa3b2; }
.actions { text-align: right; margin-top: 0.6rem; }

@keyframes spin { from { transform: rotate(0deg);} to { transform: rotate(360deg);} }

/* Panel class for mat-dialog-container */
.dist-dialog-panel .mat-dialog-container {
  background: linear-gradient(180deg, rgba(8,12,16,0.7), rgba(6,10,14,0.6));
  color: #e6eef9;
  border-radius: 8px;
  padding: 1.25rem 1rem !important;
  box-shadow: 0 8px 30px rgba(0,0,0,0.6);
  min-width: 600px;
  min-height: 500px;
}
.dist-dialog-panel .client-list li { border-bottom-color: rgba(255,255,255,0.03); }
.dist-dialog-panel .client-sub { color: rgba(255,255,255,0.45); font-size: 0.85rem; }
.dist-dialog-panel .left { display:flex; flex-direction:column; }
.dist-dialog-panel .right { display:flex; align-items:center; gap:0.6rem; }
.dist-dialog-panel .accuracy { color: rgba(255,255,255,0.5); font-size:0.9rem; margin-right:0.6rem }

.success-overlay {
	position: absolute;
	inset: 0;
	display:flex;
	align-items:center;
	justify-content:center;
	pointer-events: none; /* let clicks fall through to Close button when visible */
}
.success-card {
	pointer-events: auto;
	background: rgba(10,20,30,0.85);
	border: 1px solid rgba(90,200,255,0.28);
	padding: 22px 28px;
	border-radius: 10px;
	text-align: center;
	color: #e9f7ff;
	box-shadow: 0 12px 40px rgba(6,12,18,0.6);
	min-width: 360px;
}
.success-card .check { font-size: 52px; color: #39d67a; margin-bottom: 8px; }
.success-card h3 { margin: 6px 0 6px; font-weight:600; }
.success-card p { margin: 6px 0; }
.success-card .small { font-size: 0.85rem; color: rgba(255,255,255,0.6); }

/* When all clients are active, remove the dialog container background/white box */
.dist-success-panel .mat-dialog-container {
	background: transparent !important;
	box-shadow: none !important;
	padding: 0 !important;
}

.dist-success-panel .distribute-dialog { background: transparent; padding: 0; }

.dist-success-panel .success-overlay { pointer-events: auto; }

/* When distributing, remove the dialog container background/white box */
.dist-distributing-panel .mat-dialog-container {
	background: transparent !important;
	box-shadow: none !important;
	padding: 0 !important;
}

.dist-distributing-panel .distribute-dialog { background: transparent; padding: 0; }

.dist-distributing-panel .distributing-overlay { pointer-events: auto; }

/* Distributing overlay styles */
.distributing-overlay {
	position: absolute;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	pointer-events: none; /* allow clicks to fall through to the dialog actions */
}

.monitor {
	width: 640px;
	max-width: 90%;
	height: 340px;
	background: linear-gradient(180deg,#071018 0%, #0b1622 100%);
	border-radius: 6px;
	box-shadow: 0 18px 60px rgba(2,8,14,0.65);
	display:flex;
	align-items:center;
	justify-content:center;
	padding: 18px;
	pointer-events: auto;
	border: 1px solid rgba(50,140,200,0.08);
}

.network { position: relative; width: 100%; height: 100%; display:flex; align-items:center; justify-content:center; }
.network .center {
	width: 160px; height: 160px; border-radius: 10px; background: rgba(0,0,0,0.25);
	display:flex; align-items:center; justify-content:center; flex-direction:column; gap:8px; color: #bfe8ff;
	box-shadow: inset 0 1px 0 rgba(255,255,255,0.02), 0 10px 30px rgba(6,12,20,0.6);
}
.network .center .lock mat-icon { font-size: 44px; }
.network .center .percent { font-size:28px; font-weight:700; color:#dff7ff; }

.network .node { position: absolute; width:44px; height:44px; border-radius:50%; background: rgba(10,20,30,0.7); display:flex; align-items:center; justify-content:center; color:#7fe0ff; box-shadow: 0 6px 20px rgba(2,10,18,0.6); border:1px solid rgba(80,200,255,0.06); }
.network .node mat-icon { font-size:20px; }

/* subtle pulsing for nodes and a gentle rotate for center */
.network .node { animation: pulse 1.6s ease-in-out infinite; }
.network .center { animation: sway 6s linear infinite; }

@keyframes pulse {
	0% { transform: scale(1); opacity: 0.95; }
	50% { transform: scale(1.08); opacity: 1; }
	100% { transform: scale(1); opacity: 0.95; }
}

@keyframes sway {
	0% { transform: rotate(0deg); }
	50% { transform: rotate(1deg); }
	100% { transform: rotate(0deg); }
}

/* connection lines (simple) */
.network::before, .network::after { content: ''; position: absolute; width: 1px; height: 60%; background: linear-gradient(180deg, rgba(120,210,255,0.18), rgba(120,210,255,0.06)); left:50%; top:20%; transform: translateX(-50%); opacity:0.18; }

/* responsive tweaks */
@media (max-width:520px) {
	.monitor { height: 260px; }
	.network .center { width: 120px; height:120px; }
	.network .center .lock mat-icon { font-size:34px; }
	.network .center .percent { font-size:22px; }
}
